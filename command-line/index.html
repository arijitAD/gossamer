<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Command-Line | Gossamer Docs</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Command-Line" />
<meta name="author" content="ChainSafe" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Official Documentation for Gossamer A Go Implementation of the Polkadot Host" />
<meta property="og:description" content="The Official Documentation for Gossamer A Go Implementation of the Polkadot Host" />
<meta property="og:site_name" content="Gossamer Docs" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"ChainSafe"},"description":"The Official Documentation for Gossamer A Go Implementation of the Polkadot Host","url":"/gossamer/command-line/","@type":"WebPage","headline":"Command-Line","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/gossamer/assets/css/style.css" />
    <link rel="shortcut icon" href="/gossamer/assets/favicon.ico" /><link type="application/atom+xml" rel="alternate" href="/gossamer/feed.xml" title="Gossamer Docs" />
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/gossamer/">Gossamer Docs</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/gossamer/run-nodes/">Run Nodes</a><a class="page-link" href="/gossamer/build-nodes/">Build Nodes</a><a class="page-link" href="/gossamer/implementation/">Implementation</a><a class="page-link" href="/gossamer/resources/">Resources</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <ul>
  <li><em>TODO: update “Command-Line” document <a href="https://github.com/ChainSafe/gossamer/issues/868">#868</a></em></li>
</ul>

<hr />

<h2 id="gossamer-command">Gossamer Command</h2>

<p>The <code class="highlighter-rouge">gossamer</code> command is the root command for the <code class="highlighter-rouge">gossamer</code> package (<code class="highlighter-rouge">cmd/gossamer</code>). The root command starts the node (and initializes the node if the node has not already been initialized).</p>

<p>The <code class="highlighter-rouge">gossamer</code> command accepts the following <strong><em>local flags</em></strong> and <strong><em>global flags</em></strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--log value        Supports levels crit (silent) to trce (trace) (default: "info")
--name value       Node implementation name
--chain value      Node implementation id used to load default node configuration
--config value     TOML configuration file
--base-path value  Data directory for the node
--key value        Specify a test keyring account to use: eg --key=alice
--unlock value     Unlock an account. eg. --unlock=0,2 to unlock accounts 0 and 2. Can be used with --password=[password] to avoid prompt. For multiple passwords, do --password=password1,password2
--port value       Set network listening port (default: 0)
--bootnodes value  Comma separated enode URLs for network discovery bootstrap
--protocol value   Set protocol id
--roles value      Roles of the gossamer node
--nobootstrap      Disables network bootstrapping (mdns still enabled)
--nomdns           Disables network mdns discovery
--rpc-external     Enable the external HTTP-RPC server
--rpchost value    HTTP-RPC server listening hostname
--rpcport value    HTTP-RPC server listening port (default: 0)
--rpcmods value    API modules to enable via HTTP-RPC, comma separated list
--ws-external      Enable the external websockets server
--wsport value     Websockets server listening port (default: 0)
--help, -h         show help
--version, -v      print the version
</code></pre></div></div>

<h3 id="accepted-formats">Accepted Formats</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [--global-flags] [--local-flags]
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [--local-flags] [--global-flags] 
</code></pre></div></div>

<h2 id="gossamer-subcommands">Gossamer Subcommands</h2>

<p>List of available <strong><em>subcommands</em></strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SUBCOMMANDS:
    help, h     Shows a list of commands or help for one command
    account     Create and manage node keystore accounts
    export      Export configuration values to TOML configuration file
    init        Initialize node databases and load genesis data to state
</code></pre></div></div>

<p>List of <strong><em>local flags</em></strong> for <code class="highlighter-rouge">init</code> subcommand:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--force            Disable all confirm prompts (the same as answering "Y" to all)
--genesis value    Path to genesis JSON file
--log value        Supports levels crit (silent) to trce (trace) (default: "info")
--name value       Node implementation name
--chain value      Node implementation id used to load default node configuration
--config value     TOML configuration file
--base-path value  Data directory for the node
</code></pre></div></div>

<p>List of <strong><em>local flags</em></strong> for <code class="highlighter-rouge">account</code> subcommand:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--generate         Generate a new keypair. If type is not specified, defaults to sr25519
--password value   Password used to encrypt the keystore. Used with --generate or --unlock
--import value     Import encrypted keystore file generated with gossamer
--list             List node keys
--ed25519          Specify account type as ed25519
--sr25519          Specify account type as sr25519
--secp256k1        Specify account type as secp256k1
--log value        Supports levels crit (silent) to trce (trace) (default: "info")
--name value       Node implementation name
--chain value      Node implementation id used to load default node configuration
--config value     TOML configuration file
--base-path value  Data directory for the node
</code></pre></div></div>

<p>List of <strong><em>local flag</em></strong> options for <code class="highlighter-rouge">export</code> subcommand:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--force            Disable all confirm prompts (the same as answering "Y" to all)
--genesis value    Path to genesis JSON file
--log value        Supports levels crit (silent) to trce (trace) (default: "info")
--name value       Node implementation name
--chain value      Node implementation id used to load default node configuration
--config value     TOML configuration file
--base-path value  Data directory for the node
--key value        Specify a test keyring account to use: eg --key=alice
--unlock value     Unlock an account. eg. --unlock=0,2 to unlock accounts 0 and 2. Can be used with --password=[password] to avoid prompt. For multiple passwords, do --password=password1,password2
--port value       Set network listening port (default: 0)
--bootnodes value  Comma separated enode URLs for network discovery bootstrap
--protocol value   Set protocol id
--roles value      Roles of the gossamer node
--nobootstrap      Disables network bootstrapping (mdns still enabled)
--nomdns           Disables network mdns discovery
--rpc              Enable the HTTP-RPC server
--rpc-external     Enable external HTTP-RPC connections
--rpchost value    HTTP-RPC server listening hostname
--rpcport value    HTTP-RPC server listening port (default: 0)
--rpcmods value    API modules to enable via HTTP-RPC, comma separated list
--ws               Enable the websockets server
--ws-external      Enable external websockets connections
--wsport value     Websockets server listening port (default: 0)
</code></pre></div></div>

<h3 id="accepted-formats-1">Accepted Formats</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [--global-flags] [subcommand] [--local-flags]
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [subcommand] [--global-flags] [--local-flags]
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [subcommand] [--local-flags] [--global-flags]
</code></pre></div></div>

<h3 id="invalid-formats">Invalid Formats</h3>

<p><em>please note that <code class="highlighter-rouge">[--local-flags]</code> must come after <code class="highlighter-rouge">[subcommand]</code></em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [--local-flags] [subcommand] [--global-flags] 
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [--local-flags] [--global-flags] [subcommand] 
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gossamer [--global-flags] [--local-flags] [subcommand] 
</code></pre></div></div>

<h2 id="running-node-roles">Running Node Roles</h2>

<p>Run an authority node:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/gossamer --key alice --roles 4
</code></pre></div></div>

<p>Run a non-authority node:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/gossamer --key alice --roles 1
</code></pre></div></div>

<h2 id="running-multiple-nodes">Running Multiple Nodes</h2>

<p>Two options for running another node at the same time…</p>

<p>(1) copy the config file at <code class="highlighter-rouge">cfg/gssmr/config.toml</code> and manually update <code class="highlighter-rouge">port</code> and <code class="highlighter-rouge">base-path</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp cfg/gssmr/config.toml cfg/gssmr/bob.toml
# open bob.toml, set port=7002 and base-path=~/.gossamer/gssmr-bob
# set roles=4 to also make bob an authority node, or roles=1 to make bob a non-authority node
./bin/gossamer --key bob --config cfg/gssmr/bob.toml
</code></pre></div></div>

<p>or run with port, base-path flags:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/gossmer --key bob --port 7002 --base-path ~/.gossamer/gssmr-bob --roles 4
</code></pre></div></div>

<p>To run more than two nodes, repeat steps for bob with a new <code class="highlighter-rouge">port</code> and <code class="highlighter-rouge">base-path</code> replacing <code class="highlighter-rouge">bob</code>.</p>

<p>Available built-in keys:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/gossmer --key alice
./bin/gossmer --key bob
./bin/gossmer --key charlie
./bin/gossmer --key dave
./bin/gossmer --key eve
./bin/gossmer --key ferdie
./bin/gossmer --key george
./bin/gossmer --key heather
</code></pre></div></div>

<h2 id="initializing-nodes">Initializing Nodes</h2>

<p>To initialize or re-initialize a node, use the init subcommand <code class="highlighter-rouge">init</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/gossamer init
./bin/gossamer --key alice --roles 4
</code></pre></div></div>

<p><code class="highlighter-rouge">init</code> can be used with the <code class="highlighter-rouge">--base-path</code> or <code class="highlighter-rouge">--config</code> flag to re-initialize a custom node (ie, <code class="highlighter-rouge">bob</code> from the example above):</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/gossamer --config node/gssmr/bob.toml init
</code></pre></div></div>

<h2 id="export-configuration">Export Configuration</h2>

<p><code class="highlighter-rouge">export</code> can be used with the <code class="highlighter-rouge">gossamer</code> root command-line and <code class="highlighter-rouge">--config</code> as the export path to export a toml configuration file.</p>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/gossamer/"></data>
    <div class="wrapper">
        <div class="footer-col-wrapper">
            <div class="footer-col">
                <p style="text-align: center">The Official Documentation for Gossamer | A Go Implementation of the Polkadot Host
</p>
            </div>
        </div>
        <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/ChainSafe" title="ChainSafe"><svg class="svg-icon grey"><use xlink:href="/gossamer/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/ChainSafeth" title="ChainSafeth"><svg class="svg-icon grey"><use xlink:href="/gossamer/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>
    </div>
</footer>
</body>

</html>
